<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PWA Demo</title>
    <meta name="description" content="Lorem ipsum...">
    <meta name="keywords" content="HTML, CSS, JavaScript">
    <meta name="author" content="Your Name">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta property="og:title" content="PWA Demo">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://exemple.com">
    <meta property="og:image" content="https://exemple.com/img/og-img.png">

    <meta name="theme-color" content="#272727">

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon.png">

    <script src="script/script.js" defer></script>

    <link rel="stylesheet" href="style/style.css">
</head>

<body>

<!--Navbar-->
<nav class="topnav" id="myTopnav">
    <a href="/" class="active">learn()</a>
    <div class="dropdown">
        <button class="dropbtn">Projects
            <svg id="caret" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                 class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
        </button>
        <div class="dropdown-content">
            <a href="#">Link 1</a>
            <a href="#">Link 2</a>
            <a href="#">Link 3</a>
        </div>
    </div>
    <a href="https://api.whatsapp.com/send?phone=15551234567">WhatsApp</a>
    <a href="mailto:exemple.com@outlook.com">Email</a>
    <a href="Business%20Plan%20Template.pdf" download>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download"
             viewBox="0 0 16 16">
            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
        </svg>
        Plan
    </a>
    <span class="icon" aria-label="Menu" onclick="toggleMenu()">
        &#9776;
    </span>
    <span id="pwa" class="btn addToHomeScreen"
          style="display: none" onclick="installApp()">Install</span>
</nav>

<!--Header-->
<header class="header">
    <h1>Hello World!</h1>
    <p>Lorem ipsum</p>
</header>

<section class="content">
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium dicta eius eum in omnis quasi unde? Aliquam
        blanditiis consequatur deleniti eaque excepturi facere. Amet eligendi facilis odio praesentium quos
        recusandae?</p>
</section>

<script>
    if ('serviceWorker' in navigator) {
        //register the service worker
        navigator.serviceWorker.register('sw.js').then(function (result) {
            console.log('Service Worker Registered');
            console.log('Scope: ' + result.scope);
        }, function (error) {
            console.log('Service Worker Regiatration Failed');
            console.log(error);
        });
    } else {
        console.log('Service Workers Not Supported');
    }

    var installEvt;
    window.addEventListener('beforeinstallprompt', function (evt) {
        console.log('Before Install Prompt');
        installEvt = evt;
        evt.preventDefault(); // prevent automatically showing add to HomeScreen
        hideOrShowInstallButton("block")
    });

    function hideOrShowInstallButton(displayValue) {
        elements = document.getElementsByClassName('addToHomeScreen');

        for (i = 0; i < elements.length; i++) {
            elements[i].style.display = displayValue;
        }
    }

    function installApp() {
        hideOrShowInstallButton("none");
        installEvt.prompt();
        installEvt.userChoice.then(function (result) {
            if (result.outcome === 'accepted')
                console.log('App Installed');
            else
                console.log('App Not Installed');
        });
    }

    window.addEventListener('appinstalled', function (evt) {
        console.log('App Installed Event');
    });
</script>

</body>
</html>